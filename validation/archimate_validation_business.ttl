@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix archimate: <https://purl.org/archimate#> .
@base <https://purl.org/archimate/validation/business#> .

### SHACL Validation: Business Layer — Composition, Aggregation, Access, Realization
### ArchiMate 3.2 Specification — Appendix B Relationship Matrix
###
### Elements:
###   Active Structure : BusinessActor, BusinessRole, BusinessCollaboration, BusinessInterface
###   Behavior         : BusinessProcess, BusinessFunction, BusinessService,
###                      BusinessInteraction, BusinessEvent
###   Passive Structure: BusinessObject, BusinessContract, Representation
###   Composite        : Product
###
### Relationship types validated here:
###   c=composition, g=aggregation, a=access, r=realization
###
### Excluded (covered by Levels 1 & 2):
###   flow, triggering, serving  → Level 2 §1 Generic Metamodel
###   association                → universally permissive
###   specialization             → Level 1 §3 same-type constraint
###   influence                  → Level 2 §7 Motivation Metamodel
###   assignment                 → Level 2 §§1-2 ActiveStructure→Behavior
###
### Derived from relationships.xml
###

<#> rdf:type owl:Ontology ;
    owl:imports <https://purl.org/archimate/owl> ;
    rdfs:label "ArchiMate Relationship Validation - Business Layer" ;
    rdfs:comment "Composition, aggregation, access, and realization constraints for Business layer elements per ArchiMate 3.2." ;
    dct:creator "Alberto D. Mendoza" ;
    dct:modified "2026-02-20"^^xsd:date ;
    sh:declare [
        sh:prefix "archimate" ;
        sh:namespace "https://purl.org/archimate#"^^xsd:anyURI
    ] ,
    [
        sh:prefix "rdf" ;
        sh:namespace "http://www.w3.org/1999/02/22-rdf-syntax-ns#"^^xsd:anyURI
    ] ,
    [
        sh:prefix "rdfs" ;
        sh:namespace "http://www.w3.org/2000/01/rdf-schema#"^^xsd:anyURI
    ] .


###############################################################################
### Active Structure
###############################################################################

### BusinessActor

<#BusinessActorRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessActor ;
    rdfs:label "BusinessActor Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessActor elements." ;

    # composition (c): BusinessActor, BusinessInterface, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessActor ] [ sh:class archimate:BusinessInterface ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessActor: composition is only valid to BusinessActor, BusinessInterface, Grouping."
    ] ;

    # aggregation (g): BusinessActor, BusinessInterface, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:BusinessActor ] [ sh:class archimate:BusinessInterface ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessActor: aggregation is only valid to BusinessActor, BusinessInterface, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessActor: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): BusinessService, Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, Resource, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:BusinessService ] [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ]
            [ sh:class archimate:CourseOfAction ] [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ]
            [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ]
            [ sh:class archimate:Resource ] [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessActor: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessRole

<#BusinessRoleRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessRole ;
    rdfs:label "BusinessRole Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessRole elements." ;

    # composition (c): BusinessInterface, BusinessRole, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessInterface ] [ sh:class archimate:BusinessRole ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessRole: composition is only valid to BusinessInterface, BusinessRole, Grouping."
    ] ;

    # aggregation (g): BusinessInterface, BusinessRole, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:BusinessInterface ] [ sh:class archimate:BusinessRole ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessRole: aggregation is only valid to BusinessInterface, BusinessRole, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessRole: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): BusinessService, Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, Resource, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:BusinessService ] [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ]
            [ sh:class archimate:CourseOfAction ] [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ]
            [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ]
            [ sh:class archimate:Resource ] [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessRole: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessCollaboration

<#BusinessCollaborationRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessCollaboration ;
    rdfs:label "BusinessCollaboration Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessCollaboration elements." ;

    # composition (c): BusinessCollaboration, BusinessInterface, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessCollaboration ] [ sh:class archimate:BusinessInterface ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessCollaboration: composition is only valid to BusinessCollaboration, BusinessInterface, Grouping."
    ] ;

    # aggregation (g): BusinessActor, BusinessCollaboration, BusinessInterface, BusinessRole, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or (
            [ sh:class archimate:BusinessActor ] [ sh:class archimate:BusinessCollaboration ]
            [ sh:class archimate:BusinessInterface ] [ sh:class archimate:BusinessRole ] [ sh:class archimate:Grouping ]
        ) ;
        sh:message "BusinessCollaboration: aggregation is only valid to BusinessActor, BusinessCollaboration, BusinessInterface, BusinessRole, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessCollaboration: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): BusinessService, Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, Resource, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:BusinessService ] [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ]
            [ sh:class archimate:CourseOfAction ] [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ]
            [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ]
            [ sh:class archimate:Resource ] [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessCollaboration: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessInterface

<#BusinessInterfaceRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessInterface ;
    rdfs:label "BusinessInterface Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessInterface elements." ;

    # composition (c): BusinessInterface, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessInterface ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessInterface: composition is only valid to BusinessInterface, Grouping."
    ] ;

    # aggregation (g): BusinessInterface, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:BusinessInterface ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessInterface: aggregation is only valid to BusinessInterface, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessInterface: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, Resource, ValueStream
    # Note: BusinessService excluded (BusinessInterface→BusinessService = "fiotv", no realization)
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ] [ sh:class archimate:CourseOfAction ]
            [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ] [ sh:class archimate:Outcome ]
            [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ] [ sh:class archimate:Resource ]
            [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessInterface: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


###############################################################################
### Behavior
###############################################################################

### BusinessProcess

<#BusinessProcessRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessProcess ;
    rdfs:label "BusinessProcess Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessProcess elements." ;

    # composition (c): BusinessFunction, BusinessInteraction, BusinessProcess, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or (
            [ sh:class archimate:BusinessFunction ] [ sh:class archimate:BusinessInteraction ]
            [ sh:class archimate:BusinessProcess ] [ sh:class archimate:Grouping ]
        ) ;
        sh:message "BusinessProcess: composition is only valid to BusinessFunction, BusinessInteraction, BusinessProcess, Grouping."
    ] ;

    # aggregation (g): BusinessFunction, BusinessInteraction, BusinessProcess, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or (
            [ sh:class archimate:BusinessFunction ] [ sh:class archimate:BusinessInteraction ]
            [ sh:class archimate:BusinessProcess ] [ sh:class archimate:Grouping ]
        ) ;
        sh:message "BusinessProcess: aggregation is only valid to BusinessFunction, BusinessInteraction, BusinessProcess, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessProcess: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): BusinessService, Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:BusinessService ] [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ]
            [ sh:class archimate:CourseOfAction ] [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ]
            [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ]
            [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessProcess: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessFunction

<#BusinessFunctionRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessFunction ;
    rdfs:label "BusinessFunction Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessFunction elements." ;

    # composition (c): BusinessFunction, BusinessInteraction, BusinessProcess, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or (
            [ sh:class archimate:BusinessFunction ] [ sh:class archimate:BusinessInteraction ]
            [ sh:class archimate:BusinessProcess ] [ sh:class archimate:Grouping ]
        ) ;
        sh:message "BusinessFunction: composition is only valid to BusinessFunction, BusinessInteraction, BusinessProcess, Grouping."
    ] ;

    # aggregation (g): BusinessFunction, BusinessInteraction, BusinessProcess, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or (
            [ sh:class archimate:BusinessFunction ] [ sh:class archimate:BusinessInteraction ]
            [ sh:class archimate:BusinessProcess ] [ sh:class archimate:Grouping ]
        ) ;
        sh:message "BusinessFunction: aggregation is only valid to BusinessFunction, BusinessInteraction, BusinessProcess, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessFunction: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): BusinessService, Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:BusinessService ] [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ]
            [ sh:class archimate:CourseOfAction ] [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ]
            [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ]
            [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessFunction: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessService

<#BusinessServiceRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessService ;
    rdfs:label "BusinessService Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessService elements." ;

    # composition (c): BusinessService, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessService ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessService: composition is only valid to BusinessService, Grouping."
    ] ;

    # aggregation (g): BusinessService, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:BusinessService ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessService: aggregation is only valid to BusinessService, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessService: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ] [ sh:class archimate:CourseOfAction ]
            [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ] [ sh:class archimate:Outcome ]
            [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ] [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessService: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessInteraction

<#BusinessInteractionRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessInteraction ;
    rdfs:label "BusinessInteraction Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessInteraction elements." ;

    # composition (c): BusinessFunction, BusinessInteraction, BusinessProcess, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or (
            [ sh:class archimate:BusinessFunction ] [ sh:class archimate:BusinessInteraction ]
            [ sh:class archimate:BusinessProcess ] [ sh:class archimate:Grouping ]
        ) ;
        sh:message "BusinessInteraction: composition is only valid to BusinessFunction, BusinessInteraction, BusinessProcess, Grouping."
    ] ;

    # aggregation (g): BusinessFunction, BusinessInteraction, BusinessProcess, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or (
            [ sh:class archimate:BusinessFunction ] [ sh:class archimate:BusinessInteraction ]
            [ sh:class archimate:BusinessProcess ] [ sh:class archimate:Grouping ]
        ) ;
        sh:message "BusinessInteraction: aggregation is only valid to BusinessFunction, BusinessInteraction, BusinessProcess, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessInteraction: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): BusinessService, Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:BusinessService ] [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ]
            [ sh:class archimate:CourseOfAction ] [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ]
            [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ]
            [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessInteraction: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessEvent

<#BusinessEventRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessEvent ;
    rdfs:label "BusinessEvent Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from BusinessEvent elements." ;

    # composition (c): BusinessEvent, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessEvent ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessEvent: composition is only valid to BusinessEvent, Grouping."
    ] ;

    # aggregation (g): BusinessEvent, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:BusinessEvent ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessEvent: aggregation is only valid to BusinessEvent, Grouping."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "BusinessEvent: access is only valid to Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation."
    ] ;

    # realization (r): Constraint, Goal, Grouping, Outcome, Principle, Requirement
    # Note: No service/strategy realization — BusinessEvent→BusinessService = "fotv", Capability/ValueStream/CourseOfAction = "o"
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:Constraint ] [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ]
            [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ]
        ) ;
        sh:message "BusinessEvent: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


###############################################################################
### Passive Structure
###############################################################################

### BusinessObject

<#BusinessObjectRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessObject ;
    rdfs:label "BusinessObject Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, and realization from BusinessObject elements." ;

    # composition (c): BusinessContract, BusinessObject, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessObject: composition is only valid to BusinessContract, BusinessObject, Grouping."
    ] ;

    # aggregation (g): BusinessContract, BusinessObject, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessObject: aggregation is only valid to BusinessContract, BusinessObject, Grouping."
    ] ;

    # realization (r): Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, Resource, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ] [ sh:class archimate:CourseOfAction ]
            [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ] [ sh:class archimate:Outcome ]
            [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ] [ sh:class archimate:Resource ]
            [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessObject: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### BusinessContract

<#BusinessContractRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:BusinessContract ;
    rdfs:label "BusinessContract Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, and realization from BusinessContract elements." ;

    # composition (c): BusinessContract, BusinessObject, Grouping
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessContract: composition is only valid to BusinessContract, BusinessObject, Grouping."
    ] ;

    # aggregation (g): BusinessContract, BusinessObject, Grouping
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ] [ sh:class archimate:Grouping ] ) ;
        sh:message "BusinessContract: aggregation is only valid to BusinessContract, BusinessObject, Grouping."
    ] ;

    # realization (r): Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, Resource, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ] [ sh:class archimate:CourseOfAction ]
            [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ] [ sh:class archimate:Outcome ]
            [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ] [ sh:class archimate:Resource ]
            [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "BusinessContract: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


### Representation

<#RepresentationRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:Representation ;
    rdfs:label "Representation Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, and realization from Representation elements." ;

    # composition (c): Grouping, Representation
    sh:property [
        sh:path archimate:composition ;
        sh:or ( [ sh:class archimate:Grouping ] [ sh:class archimate:Representation ] ) ;
        sh:message "Representation: composition is only valid to Grouping, Representation."
    ] ;

    # aggregation (g): Grouping, Representation
    sh:property [
        sh:path archimate:aggregation ;
        sh:or ( [ sh:class archimate:Grouping ] [ sh:class archimate:Representation ] ) ;
        sh:message "Representation: aggregation is only valid to Grouping, Representation."
    ] ;

    # realization (r): BusinessContract, BusinessObject, Capability, Constraint, CourseOfAction, Goal, Grouping, Outcome, Principle, Requirement, Resource, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ] [ sh:class archimate:Capability ]
            [ sh:class archimate:Constraint ] [ sh:class archimate:CourseOfAction ] [ sh:class archimate:Goal ]
            [ sh:class archimate:Grouping ] [ sh:class archimate:Outcome ] [ sh:class archimate:Principle ]
            [ sh:class archimate:Requirement ] [ sh:class archimate:Resource ] [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "Representation: realization target is not valid per ArchiMate 3.2."
    ] ;

    .


###############################################################################
### Composite
###############################################################################

### Product

<#ProductRelationships> rdf:type sh:NodeShape ;
    sh:targetClass archimate:Product ;
    rdfs:label "Product Valid Relationships" ;
    rdfs:comment "Validates composition, aggregation, access, and realization from Product elements." ;

    # composition (c): ApplicationService, Artifact, BusinessContract, BusinessObject, BusinessService,
    #                  DataObject, Grouping, Material, Product, Representation, TechnologyService
    sh:property [
        sh:path archimate:composition ;
        sh:or (
            [ sh:class archimate:ApplicationService ] [ sh:class archimate:Artifact ]
            [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:BusinessService ] [ sh:class archimate:DataObject ]
            [ sh:class archimate:Grouping ] [ sh:class archimate:Material ] [ sh:class archimate:Product ]
            [ sh:class archimate:Representation ] [ sh:class archimate:TechnologyService ]
        ) ;
        sh:message "Product: composition target is not valid per ArchiMate 3.2."
    ] ;

    # aggregation (g): ApplicationService, Artifact, BusinessContract, BusinessObject, BusinessService,
    #                  DataObject, Grouping, Material, Product, Representation, TechnologyService
    sh:property [
        sh:path archimate:aggregation ;
        sh:or (
            [ sh:class archimate:ApplicationService ] [ sh:class archimate:Artifact ]
            [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:BusinessService ] [ sh:class archimate:DataObject ]
            [ sh:class archimate:Grouping ] [ sh:class archimate:Material ] [ sh:class archimate:Product ]
            [ sh:class archimate:Representation ] [ sh:class archimate:TechnologyService ]
        ) ;
        sh:message "Product: aggregation target is not valid per ArchiMate 3.2."
    ] ;

    # access (a): Artifact, BusinessContract, BusinessObject, DataObject, Grouping, Material, Representation
    sh:property [
        sh:path archimate:access ;
        sh:or (
            [ sh:class archimate:Artifact ] [ sh:class archimate:BusinessContract ] [ sh:class archimate:BusinessObject ]
            [ sh:class archimate:DataObject ] [ sh:class archimate:Grouping ] [ sh:class archimate:Material ]
            [ sh:class archimate:Representation ]
        ) ;
        sh:message "Product: access target is not valid per ArchiMate 3.2."
    ] ;

    # realization (r): ApplicationService, BusinessService, Capability, Constraint, CourseOfAction, Goal,
    #                  Grouping, Outcome, Principle, Requirement, Resource, TechnologyService, ValueStream
    sh:property [
        sh:path archimate:realization ;
        sh:or (
            [ sh:class archimate:ApplicationService ] [ sh:class archimate:BusinessService ]
            [ sh:class archimate:Capability ] [ sh:class archimate:Constraint ] [ sh:class archimate:CourseOfAction ]
            [ sh:class archimate:Goal ] [ sh:class archimate:Grouping ] [ sh:class archimate:Outcome ]
            [ sh:class archimate:Principle ] [ sh:class archimate:Requirement ] [ sh:class archimate:Resource ]
            [ sh:class archimate:TechnologyService ] [ sh:class archimate:ValueStream ]
        ) ;
        sh:message "Product: realization target is not valid per ArchiMate 3.2."
    ] ;

    .
